<html>
<head>
	<title>对象属性</title>
	<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
 <!-- <div id="ltt@163.com">hello</div> -->
	<script>
	// var result = $(#ltt\@163.com).text;
	// console.log(result);
		function Person(name,age,job){
			this.name = name;
			this.age = age;
			this.job = job;
			this.friends = ["shelly", "court"];
		}
		Person.prototype = {
			construtor : Person,
			sayName : function(){
				console.log(this.name);
			}
		}
		var person1 = new Person("nick", 29, "software");
		var person2 = new Person("grek", 27, "doctor");

		person1.friends.push("cindy");
		console.log(person1.friends);//["shelly", "court", "cindy"]
		console.log(person2.friends);//["shelly", "court"]
		console.log(person1.friends === person2.friends);//false
		console.log(person1.sayName === person2.sayName);//true
	//读取访问器属性
		var book = {
			_year : 2014,
			edition : 1
		};
		Object.defineProperty(book, "year", {
			get : function(){
				return this._year;
			},
			set : function(newYear){
				if (newYear > 2014) {
					this._year = newYear;
					this.edition += newYear - 2014;
				}
			}
		});

			//可用如下方法
		// book.__defineGetter__("year", function(){
		// 	return this._year;
		// });
		// book.__defineSetter__("year", function(newYear){
		// 	if (newYear > 2014){
		// 		this._year = newYear;
		// 		this.edition += newYear - 2014;
		// 	}
		// });

		console.log(book.edition);
		book.year = 2017;
		console.log(book.edition);


//定义多个属性 及读取
		var person = {};
		Object.defineProperties(person, {
			age: {
				writable: true,
				value: 24
			},
			name: {
				value: "ltt"
			}
		});
		var descriptor = Object.getOwnPropertyDescriptor(person, "age");
		console.log(descriptor);//Object {value: 24, writable: true, enumerable: false, configurable: false}
		console.log(descriptor.value);
   		

   		function clone(obj){
   			var resultObj = {};
   			// resultObj = object(obj);
   			resultObj = Object.create(obj);
   			return resultObj;
   		}
   		function object(o){
   			function F(){};
   			F.prototype = o;
   			return new F();
   		}

   		var a ={name : "a"};
   		var b =clone(a);
   		console.log(b.name);
   		a.name = "a1";
   		console.log(b.name);
   		b.name = "b";
   		console.log(a.name);
   		a.name ="a2";
   		console.log(b.name);









	</script>
</body>
</html>